7975
flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs
(94, '25-51')
nearest
[' /home/gridaphobe/src/liquidhaskell/benchmarks/ucsd/wi15/final/liquid-cache/flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs:94:25-51: Error: Liquid Type Mismatch', ' 94 | nearest k n centers p = floor $ distance n p minVal']

LiquidHaskell Copyright 2013-17 Regents of the University of California. All Rights Reserved.

[1;94m
**** DONE:  A-Normalization ****************************************************
[0m[1;90m 
[0m
ERROR:
G2: Unsupported type in typeToSMT: TyForAll (NamedTyBndr (Id (Name "a" Nothing 6989586621679081983 Nothing) TYPE)) (TyFun (TyApp (TyCon (Name "lh" Nothing 0 Nothing) (TyApp TYPE TYPE)) (TyVar (Id (Name "a" Nothing 6989586621679081983 Nothing) TYPE))) (TyFun (TyApp (TyCon (Name "RealFrac" (Just "GHC.Real") 3602879701896396816 Nothing) (TyFun TYPE (TyCon (Name "Constraint" (Just "GHC.Types") 3674937295934324920 Nothing) TYPE))) (TyVar (Id (Name "a" Nothing 6989586621679081983 Nothing) TYPE))) (TyForAll (NamedTyBndr (Id (Name "b" Nothing 6989586621679081993 Nothing) TYPE)) (TyFun (TyApp (TyCon (Name "lh" Nothing 0 Nothing) (TyApp TYPE TYPE)) (TyVar (Id (Name "b" Nothing 6989586621679081993 Nothing) TYPE))) (TyFun (TyApp (TyCon (Name "Integral" (Just "GHC.Real") 8214565720323803932 Nothing) (TyFun TYPE (TyCon (Name "Constraint" (Just "GHC.Types") 3674937295934324920 Nothing) TYPE))) (TyVar (Id (Name "b" Nothing 6989586621679081993 Nothing) TYPE))) (TyFun (TyVar (Id (Name "a" Nothing 6989586621679081983 Nothing) TYPE)) (TyVar (Id (Name "b" Nothing 6989586621679081993 Nothing) TYPE))))))))
CallStack (from HasCallStack):
  error, called at src/G2/Internals/Solver/Converters.hs:434:15 in main:G2.Internals.Solver.Converters


LIQUID_OUT:
LiquidHaskell Copyright 2009-15 Regents of the University of California. All Rights Reserved.

[1;94m
**** DONE:  Extracted Core using GHC *******************************************
[0m[1;90m 
[0m[1;94m
**** DONE:  Uniqify & Rename ***************************************************
[0m[1;90m 
[0mRESULT: Unsafe [Just 376,Just 154,Just 270,Just 31]
[1;94m
**** START: pandoc *************************************************************
[0m[1;90m 
[0m[1;94m
**** DONE:  pandoc *************************************************************
[0m[1;90m 
[0m[1;94m
**** START: pandoc *************************************************************
[0m[1;90m 
[0m[1;94m
**** DONE:  pandoc *************************************************************
[0m[1;90m 
[0m[1;94m
**** DONE:  annotate ***********************************************************
[0m[1;90m 
[0m[1;91m
**** RESULT: UNSAFE ************************************************************
[0m

 /home/gridaphobe/src/liquidhaskell/benchmarks/ucsd/wi15/final/liquid-cache/flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs:94:25-51: Error: Liquid Type Mismatch
 
 94 | nearest k n centers p = floor $ distance n p minVal
                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
 
   Inferred type
     VV : Int
  
   not a subtype of Required type
     VV : {VV : Int | 0 <= VV
                      && VV < k}
  
   In Context
     k : {k : Int | k >= 0}


 /home/gridaphobe/src/liquidhaskell/benchmarks/ucsd/wi15/final/liquid-cache/flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs:138:46-62: Error: Liquid Type Mismatch
 
 138 | mergeCluster n (n1, p1) (n2, p2) = (n1 + n2, zipWith (+) p1 p2)
                                                    ^^^^^^^^^^^^^^^^^
 
   Inferred type
     VV : {VV : (List Double) | VV == p2
                                && 0 <= size VV}
  
   not a subtype of Required type
     VV : {VV : (List Double) | size VV == size p1}
  
   In Context
     p1 : {p1 : (List Double) | 0 <= size p1}
      
     p2 : {p2 : (List Double) | 0 <= size p2}


 /home/gridaphobe/src/liquidhaskell/benchmarks/ucsd/wi15/final/liquid-cache/flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs:152:30-42: Error: Liquid Type Mismatch
 
 152 | centroid n p sz = map (\x -> x `divide` sz) p
                                    ^^^^^^^^^^^^^
 
   Inferred type
     VV : {VV : Int | VV == sz}
  
   not a subtype of Required type
     VV : {VV : Int | VV /= 0}
  
   In Context
     sz : Int


 /home/gridaphobe/src/liquidhaskell/benchmarks/ucsd/wi15/final/liquid-cache/flycheck_KMeans.lhs-2015-03-20T20.14.26.lhs:190:21-41: Error: Liquid Type Mismatch
 
 190 | kmeans1 k n ps cs = normalize newClusters
                           ^^^^^^^^^^^^^^^^^^^^^
 
   Inferred type
     VV : {VV : (List Double) | 0 <= size VV}
  
   not a subtype of Required type
     VV : {VV : (List Double) | size VV == n}
  
   In Context
     n : {n : Int | n >= 0}
